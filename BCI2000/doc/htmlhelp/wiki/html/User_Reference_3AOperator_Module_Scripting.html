<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" >
<head>
<title>User Reference:Operator Module Scripting - BCI2000 Help</title>
<meta http-equiv="Content-type" content="text/html; charset=utf-8" />
<meta name="keywords" content="User Reference:Operator Module Scripting,Technical Reference:Operator Library,Technical Reference:Parameter Definition,Technical Reference:State Definition,Technical Reference:States of Operation,Technical Reference:Visualization Properties,User Reference:BCI2000Shell,User Reference:Expression Syntax,User Reference:Module Command Line Options,User Reference:Operator Module" />
<link rel="shortcut icon" href="../../favicon.ico" />
<link rel='stylesheet' type='text/css' media='print' href='../skins/common/wikiprintable.css' />
<link rel="stylesheet" href="../skins/common/wikistandard.css@1" type="text/css" />
<link rel="stylesheet" href="../skins/common/common.css" type="text/css" />
<link rel="stylesheet" href="../skins/common/htmlhelp.css" type="text/css" />

<style type='text/css'>
a.new, #quickbar a.new { color: #CC2200; }
.editsection { display: none; }
#quickbar { position: absolute; top: 4px; left: 4px;  }
#article { margin-left: 152px; margin-right: 4px; }
</style>
</head>

<body bgcolor='#FFFFFF'>

<div id='content'>
<div id='topbar'>
<table border='0' cellspacing='0' width='98%'>
<tr>
</tr>
</table>
</div>

<div id='article'>
<h1 class="pagetitle">Operator Module Scripting</h1><p class="subtitle">User Reference</p><hr class="sep" /><p>Operator scripts automate actions that the otherwise would be performed by the user, e.g. starting or suspending system operation.
Scripts may be contained in script files, or given immediately in the operator module's preferences dialog.
There is also an option to specify scripts from the <a href="User_Reference%253AModule_Command_Line_Options.html#Operator_Module" title="User Reference:Module Command Line Options">command line</a> when starting the operator module. When using the <a href="User_Reference%253ABCI2000Shell.html" title="User Reference:BCI2000Shell">BCI2000Shell</a>, or the <a href="Technical_Reference%253AOperator_Library.html" title="Technical Reference:Operator Library">Operator Library</a> from your own application, you may execute scripts at any time.
</p><p>In addition, the operator scripting language may be used to control an operator module over a telnet connection.
</p>
<table id="toc" class="toc" summary="Contents"><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class='toclevel-1'><a href="User_Reference%253AOperator_Module_Scripting.html#Syntax"><span class="tocnumber">1</span> <span class="toctext">Syntax</span></a></li>
<li class='toclevel-1'><a href="User_Reference%253AOperator_Module_Scripting.html#Commands"><span class="tocnumber">2</span> <span class="toctext">Commands</span></a>
<ul>
<li class='toclevel-2'><a href="User_Reference%253AOperator_Module_Scripting.html#Control_commands"><span class="tocnumber">2.1</span> <span class="toctext">Control commands</span></a>
<ul>
<li class='toclevel-3'><a href="User_Reference%253AOperator_Module_Scripting.html#IF_.3Ccondition.3E.3B_.3Cif_commands.3E.3B_.5B_ELSEIF_.3Ccondition.3E.3B_.3Celseif_commands.3E.3B.5D_..._.5B_ELSE.3B_.3Celse_commands.3E.3B.5D_END"><span class="tocnumber">2.1.1</span> <span class="toctext">IF &lt;condition&gt;; &lt;if commands&gt;; [ ELSEIF &lt;condition&gt;; &lt;elseif commands&gt;;] ... [ ELSE; &lt;else commands&gt;;] END</span></a></li>
<li class='toclevel-3'><a href="User_Reference%253AOperator_Module_Scripting.html#WHILE_.3Ccondition.3E.3B_.3Cloop_commands.3E.3B_END"><span class="tocnumber">2.1.2</span> <span class="toctext">WHILE &lt;condition&gt;; &lt;loop commands&gt;; END</span></a></li>
<li class='toclevel-3'><a href="User_Reference%253AOperator_Module_Scripting.html#DO.3B_.3Cloop_commands.3E.3B_UNTIL_.3Ccondition.3E"><span class="tocnumber">2.1.3</span> <span class="toctext">DO; &lt;loop commands&gt;; UNTIL &lt;condition&gt;</span></a></li>
<li class='toclevel-3'><a href="User_Reference%253AOperator_Module_Scripting.html#FOR_.3Cname.3E_IN_.3Citem1.3E_.3Citem2.3E_..._.3B_.3Cloop_commands.3E.3B_END"><span class="tocnumber">2.1.4</span> <span class="toctext">FOR &lt;name&gt; IN &lt;item1&gt; &lt;item2&gt; ...&nbsp;; &lt;loop commands&gt;; END</span></a></li>
</ul>
</li>
<li class='toclevel-2'><a href="User_Reference%253AOperator_Module_Scripting.html#Commands_operating_on_Conditions"><span class="tocnumber">2.2</span> <span class="toctext">Commands operating on Conditions</span></a>
<ul>
<li class='toclevel-3'><a href="User_Reference%253AOperator_Module_Scripting.html#EVALUATE_CONDITION_.3Cleft.3E_.5B.3Cop.3E_.5B.3Cright.3E.5D.5D"><span class="tocnumber">2.2.1</span> <span class="toctext">EVALUATE CONDITION &lt;left&gt; [&lt;op&gt; [&lt;right&gt;]]</span></a></li>
</ul>
</li>
<li class='toclevel-2'><a href="User_Reference%253AOperator_Module_Scripting.html#Commands_operating_on_Local_Variables"><span class="tocnumber">2.3</span> <span class="toctext">Commands operating on Local Variables</span></a>
<ul>
<li class='toclevel-3'><a href="User_Reference%253AOperator_Module_Scripting.html#SET_VARIABLE_.3Cname.3E_.3Cvalue.3E"><span class="tocnumber">2.3.1</span> <span class="toctext">SET VARIABLE &lt;name&gt; &lt;value&gt;</span></a></li>
<li class='toclevel-3'><a href="User_Reference%253AOperator_Module_Scripting.html#CLEAR_VARIABLE_.3Cname.3E"><span class="tocnumber">2.3.2</span> <span class="toctext">CLEAR VARIABLE &lt;name&gt;</span></a></li>
<li class='toclevel-3'><a href="User_Reference%253AOperator_Module_Scripting.html#GET_VARIABLE_.3Cname.3E"><span class="tocnumber">2.3.3</span> <span class="toctext">GET VARIABLE &lt;name&gt;</span></a></li>
</ul>
</li>
<li class='toclevel-2'><a href="User_Reference%253AOperator_Module_Scripting.html#Commands_operating_on_Environment_Variables"><span class="tocnumber">2.4</span> <span class="toctext">Commands operating on Environment Variables</span></a>
<ul>
<li class='toclevel-3'><a href="User_Reference%253AOperator_Module_Scripting.html#SET_ENVIRONMENT_.3Cname.3E_.3Cvalue.3E"><span class="tocnumber">2.4.1</span> <span class="toctext">SET ENVIRONMENT &lt;name&gt; &lt;value&gt;</span></a></li>
<li class='toclevel-3'><a href="User_Reference%253AOperator_Module_Scripting.html#CLEAR_ENVIRONMENT_.3Cname.3E"><span class="tocnumber">2.4.2</span> <span class="toctext">CLEAR ENVIRONMENT &lt;name&gt;</span></a></li>
<li class='toclevel-3'><a href="User_Reference%253AOperator_Module_Scripting.html#GET_ENVIRONMENT_.3Cname.3E"><span class="tocnumber">2.4.3</span> <span class="toctext">GET ENVIRONMENT &lt;name&gt;</span></a></li>
</ul>
</li>
<li class='toclevel-2'><a href="User_Reference%253AOperator_Module_Scripting.html#Commands_operating_on_Scripts"><span class="tocnumber">2.5</span> <span class="toctext">Commands operating on Scripts</span></a>
<ul>
<li class='toclevel-3'><a href="User_Reference%253AOperator_Module_Scripting.html#SET_SCRIPT_.3Chandler_names.3E_.3Cscripting_commands.3E"><span class="tocnumber">2.5.1</span> <span class="toctext">SET SCRIPT &lt;handler names&gt; &lt;scripting commands&gt;</span></a></li>
<li class='toclevel-3'><a href="User_Reference%253AOperator_Module_Scripting.html#GET_SCRIPT_.3Chandler_name.3E"><span class="tocnumber">2.5.2</span> <span class="toctext">GET SCRIPT &lt;handler name&gt;</span></a></li>
<li class='toclevel-3'><a href="User_Reference%253AOperator_Module_Scripting.html#CLEAR_SCRIPT_.3Chandler_names.3E"><span class="tocnumber">2.5.3</span> <span class="toctext">CLEAR SCRIPT &lt;handler names&gt;</span></a></li>
<li class='toclevel-3'><a href="User_Reference%253AOperator_Module_Scripting.html#EXECUTE_SCRIPT_.3Cfile_or_handler_name.3E_.5B.3CArg1.3E_.3CArg2.3E_..._.3CArg9.3E.5D"><span class="tocnumber">2.5.4</span> <span class="toctext">EXECUTE SCRIPT &lt;file or handler name&gt; [&lt;Arg1&gt; &lt;Arg2&gt; ... &lt;Arg9&gt;]</span></a></li>
</ul>
</li>
<li class='toclevel-2'><a href="User_Reference%253AOperator_Module_Scripting.html#Commands_operating_on_Parameters"><span class="tocnumber">2.6</span> <span class="toctext">Commands operating on Parameters</span></a>
<ul>
<li class='toclevel-3'><a href="User_Reference%253AOperator_Module_Scripting.html#LOAD_PARAMETERFILE_.3Cfile.3E.2C_LOAD_PARAMETERS_.3Cfile.3E"><span class="tocnumber">2.6.1</span> <span class="toctext">LOAD PARAMETERFILE &lt;file&gt;, LOAD PARAMETERS &lt;file&gt;</span></a></li>
<li class='toclevel-3'><a href="User_Reference%253AOperator_Module_Scripting.html#ADD_PARAMETER_.3Cparameter_definition.3E"><span class="tocnumber">2.6.2</span> <span class="toctext">ADD PARAMETER &lt;parameter definition&gt;</span></a></li>
<li class='toclevel-3'><a href="User_Reference%253AOperator_Module_Scripting.html#EXISTS_PARAMETER_.3Cname.3E"><span class="tocnumber">2.6.3</span> <span class="toctext">EXISTS PARAMETER &lt;name&gt;</span></a></li>
<li class='toclevel-3'><a href="User_Reference%253AOperator_Module_Scripting.html#SET_PARAMETER_.3Cname.3E.5B.28_idx1.2C_idx2_.29.5D_.3Cvalue.3E"><span class="tocnumber">2.6.4</span> <span class="toctext">SET PARAMETER &lt;name&gt;[( idx1, idx2 )] &lt;value&gt;</span></a></li>
<li class='toclevel-3'><a href="User_Reference%253AOperator_Module_Scripting.html#SET_PARAMETER_.3Cparameter_line.3E"><span class="tocnumber">2.6.5</span> <span class="toctext">SET PARAMETER &lt;parameter line&gt;</span></a></li>
<li class='toclevel-3'><a href="User_Reference%253AOperator_Module_Scripting.html#GET_PARAMETER_.3Cname.3E.5B.28_idx1.2C_idx2_.29.5D"><span class="tocnumber">2.6.6</span> <span class="toctext">GET PARAMETER &lt;name&gt;[( idx1, idx2 )]</span></a></li>
<li class='toclevel-3'><a href="User_Reference%253AOperator_Module_Scripting.html#LIST_PARAMETER_.3Cwildcard_expression.3E.2C_LIST_PARAMETERS"><span class="tocnumber">2.6.7</span> <span class="toctext">LIST PARAMETER &lt;wildcard expression&gt;, LIST PARAMETERS</span></a></li>
<li class='toclevel-3'><a href="User_Reference%253AOperator_Module_Scripting.html#CLEAR_PARAMETERS"><span class="tocnumber">2.6.8</span> <span class="toctext">CLEAR PARAMETERS</span></a></li>
</ul>
</li>
<li class='toclevel-2'><a href="User_Reference%253AOperator_Module_Scripting.html#Commands_operating_on_States"><span class="tocnumber">2.7</span> <span class="toctext">Commands operating on States</span></a>
<ul>
<li class='toclevel-3'><a href="User_Reference%253AOperator_Module_Scripting.html#ADD_STATE_.3Cname.3E_.3Cbit_width.3E_.3Cinitial_value.3E"><span class="tocnumber">2.7.1</span> <span class="toctext">ADD STATE &lt;name&gt; &lt;bit width&gt; &lt;initial value&gt;</span></a></li>
<li class='toclevel-3'><a href="User_Reference%253AOperator_Module_Scripting.html#EXISTS_STATE_.3Cname.3E"><span class="tocnumber">2.7.2</span> <span class="toctext">EXISTS STATE &lt;name&gt;</span></a></li>
<li class='toclevel-3'><a href="User_Reference%253AOperator_Module_Scripting.html#SET_STATE_.3Cname.3E_.3Cvalue.3E"><span class="tocnumber">2.7.3</span> <span class="toctext">SET STATE &lt;name&gt; &lt;value&gt;</span></a></li>
<li class='toclevel-3'><a href="User_Reference%253AOperator_Module_Scripting.html#GET_STATE_.3Cname.3E"><span class="tocnumber">2.7.4</span> <span class="toctext">GET STATE &lt;name&gt;</span></a></li>
<li class='toclevel-3'><a href="User_Reference%253AOperator_Module_Scripting.html#LIST_STATE_.3Cwildcard_expression.3E.2C_LIST_STATES"><span class="tocnumber">2.7.5</span> <span class="toctext">LIST STATE &lt;wildcard expression&gt;, LIST STATES</span></a></li>
<li class='toclevel-3'><a href="User_Reference%253AOperator_Module_Scripting.html#CLEAR_STATES"><span class="tocnumber">2.7.6</span> <span class="toctext">CLEAR STATES</span></a></li>
</ul>
</li>
<li class='toclevel-2'><a href="User_Reference%253AOperator_Module_Scripting.html#Commands_operating_on_Events"><span class="tocnumber">2.8</span> <span class="toctext">Commands operating on Events</span></a>
<ul>
<li class='toclevel-3'><a href="User_Reference%253AOperator_Module_Scripting.html#ADD_EVENT_.3Cname.3E_.3Cbit_width.3E_.3Cinitial_value.3E"><span class="tocnumber">2.8.1</span> <span class="toctext">ADD EVENT &lt;name&gt; &lt;bit width&gt; &lt;initial value&gt;</span></a></li>
<li class='toclevel-3'><a href="User_Reference%253AOperator_Module_Scripting.html#EXISTS_EVENT_.3Cname.3E"><span class="tocnumber">2.8.2</span> <span class="toctext">EXISTS EVENT &lt;name&gt;</span></a></li>
<li class='toclevel-3'><a href="User_Reference%253AOperator_Module_Scripting.html#SET_EVENT_.3Cname.3E_.3Cvalue.3E"><span class="tocnumber">2.8.3</span> <span class="toctext">SET EVENT &lt;name&gt; &lt;value&gt;</span></a></li>
<li class='toclevel-3'><a href="User_Reference%253AOperator_Module_Scripting.html#GET_EVENT_.3Cname.3E"><span class="tocnumber">2.8.4</span> <span class="toctext">GET EVENT &lt;name&gt;</span></a></li>
<li class='toclevel-3'><a href="User_Reference%253AOperator_Module_Scripting.html#LIST_EVENT_.3Cwildcard_expression.3E.2C_LIST_EVENTS"><span class="tocnumber">2.8.5</span> <span class="toctext">LIST EVENT &lt;wildcard expression&gt;, LIST EVENTS</span></a></li>
<li class='toclevel-3'><a href="User_Reference%253AOperator_Module_Scripting.html#CLEAR_EVENTS"><span class="tocnumber">2.8.6</span> <span class="toctext">CLEAR EVENTS</span></a></li>
</ul>
</li>
<li class='toclevel-2'><a href="User_Reference%253AOperator_Module_Scripting.html#Commands_operating_on_VisProperties"><span class="tocnumber">2.9</span> <span class="toctext">Commands operating on VisProperties</span></a>
<ul>
<li class='toclevel-3'><a href="User_Reference%253AOperator_Module_Scripting.html#SET_VISPROPERTY_.3CvisID.3E..3Cname.3E_.3Cvalue.3E"><span class="tocnumber">2.9.1</span> <span class="toctext">SET VISPROPERTY &lt;visID&gt;.&lt;name&gt; &lt;value&gt;</span></a></li>
<li class='toclevel-3'><a href="User_Reference%253AOperator_Module_Scripting.html#GET_VISPROPERTY_.3CvisID.3E..3Cname.3E"><span class="tocnumber">2.9.2</span> <span class="toctext">GET VISPROPERTY &lt;visID&gt;.&lt;name&gt;</span></a></li>
<li class='toclevel-3'><a href="User_Reference%253AOperator_Module_Scripting.html#SET_VISPROPERTIES_.3Cproperty_set_ID.3E"><span class="tocnumber">2.9.3</span> <span class="toctext">SET VISPROPERTIES &lt;property set ID&gt;</span></a></li>
</ul>
</li>
<li class='toclevel-2'><a href="User_Reference%253AOperator_Module_Scripting.html#Commands_operating_on_the_Control_Signal"><span class="tocnumber">2.10</span> <span class="toctext">Commands operating on the Control Signal</span></a>
<ul>
<li class='toclevel-3'><a href="User_Reference%253AOperator_Module_Scripting.html#GET_SIGNAL.28_.3Cchannel_index.3E.2C_.3Celement_index.3E_.29"><span class="tocnumber">2.10.1</span> <span class="toctext">GET SIGNAL( &lt;channel index&gt;, &lt;element index&gt; )</span></a></li>
</ul>
</li>
<li class='toclevel-2'><a href="User_Reference%253AOperator_Module_Scripting.html#Commands_operating_on_Expressions"><span class="tocnumber">2.11</span> <span class="toctext">Commands operating on Expressions</span></a>
<ul>
<li class='toclevel-3'><a href="User_Reference%253AOperator_Module_Scripting.html#EVALUATE_EXPRESSION_.3Cexpression.3E"><span class="tocnumber">2.11.1</span> <span class="toctext">EVALUATE EXPRESSION &lt;expression&gt;</span></a></li>
<li class='toclevel-3'><a href="User_Reference%253AOperator_Module_Scripting.html#CLEAR_EXPRESSION_VARIABLE_.3Cname.3E"><span class="tocnumber">2.11.2</span> <span class="toctext">CLEAR EXPRESSION VARIABLE &lt;name&gt;</span></a></li>
</ul>
</li>
<li class='toclevel-2'><a href="User_Reference%253AOperator_Module_Scripting.html#Commands_operating_on_Files.2C_Directories.2C_and_Paths"><span class="tocnumber">2.12</span> <span class="toctext">Commands operating on Files, Directories, and Paths</span></a>
<ul>
<li class='toclevel-3'><a href="User_Reference%253AOperator_Module_Scripting.html#EXTRACT_DIRECTORY_.3Cpath.3E.2C_EXTRACT_FILE_.3Cpath.3E.2C_EXTRACT_FILE_BASE_.3Cpath.3E"><span class="tocnumber">2.12.1</span> <span class="toctext">EXTRACT DIRECTORY &lt;path&gt;, EXTRACT FILE &lt;path&gt;, EXTRACT FILE BASE &lt;path&gt;</span></a></li>
<li class='toclevel-3'><a href="User_Reference%253AOperator_Module_Scripting.html#IS_DIRECTORY_.3Cpath.3E.2C_IS_FILE_.3Cpath.3E.2C_IS_PATH_.3Cpath.3E"><span class="tocnumber">2.12.2</span> <span class="toctext">IS DIRECTORY &lt;path&gt;, IS FILE &lt;path&gt;, IS PATH &lt;path&gt;</span></a></li>
<li class='toclevel-3'><a href="User_Reference%253AOperator_Module_Scripting.html#PARENT_DIRECTORY_.3Cpath.3E"><span class="tocnumber">2.12.3</span> <span class="toctext">PARENT DIRECTORY &lt;path&gt;</span></a></li>
<li class='toclevel-3'><a href="User_Reference%253AOperator_Module_Scripting.html#CURRENT_DIRECTORY"><span class="tocnumber">2.12.4</span> <span class="toctext">CURRENT DIRECTORY</span></a></li>
<li class='toclevel-3'><a href="User_Reference%253AOperator_Module_Scripting.html#CHANGE_DIRECTORY_.3Cpath.3E"><span class="tocnumber">2.12.5</span> <span class="toctext">CHANGE DIRECTORY &lt;path&gt;</span></a></li>
<li class='toclevel-3'><a href="User_Reference%253AOperator_Module_Scripting.html#MAKE_DIRECTORY_.3Cpath.3E"><span class="tocnumber">2.12.6</span> <span class="toctext">MAKE DIRECTORY &lt;path&gt;</span></a></li>
<li class='toclevel-3'><a href="User_Reference%253AOperator_Module_Scripting.html#LIST_DIRECTORY_.5B.3Cpath.3E_or_.3Cwildcard_expression.3E.5D"><span class="tocnumber">2.12.7</span> <span class="toctext">LIST DIRECTORY [&lt;path&gt; or &lt;wildcard expression&gt;]</span></a></li>
<li class='toclevel-3'><a href="User_Reference%253AOperator_Module_Scripting.html#LIST_FILE_.3Cwildcard_expression.3E"><span class="tocnumber">2.12.8</span> <span class="toctext">LIST FILE &lt;wildcard expression&gt;</span></a></li>
<li class='toclevel-3'><a href="User_Reference%253AOperator_Module_Scripting.html#LIST_FILES_.5B.3Cdirectory.3E_.5B.3Cwildcard_expression.3E.5D.5D"><span class="tocnumber">2.12.9</span> <span class="toctext">LIST FILES [&lt;directory&gt; [&lt;wildcard expression&gt;]]</span></a></li>
<li class='toclevel-3'><a href="User_Reference%253AOperator_Module_Scripting.html#LIST_DIRECTORIES_.5B.3Cdirectory.3E_.5B.3Cwildcard_expression.3E.5D.5D"><span class="tocnumber">2.12.10</span> <span class="toctext">LIST DIRECTORIES [&lt;directory&gt; [&lt;wildcard expression&gt;]]</span></a></li>
<li class='toclevel-3'><a href="User_Reference%253AOperator_Module_Scripting.html#RENAME_FILE_.3Ccurrent_path.3E_.3Cnew_path.3E.2C_RENAME_DIRECTORY_.3Ccurrent_path.3E_.3Cnew_name.3E"><span class="tocnumber">2.12.11</span> <span class="toctext">RENAME FILE &lt;current path&gt; &lt;new path&gt;, RENAME DIRECTORY &lt;current path&gt; &lt;new name&gt;</span></a></li>
<li class='toclevel-3'><a href="User_Reference%253AOperator_Module_Scripting.html#REMOVE_FILE_.3Cpath.3E.2C_REMOVE_DIRECTORY_.3Cpath.3E"><span class="tocnumber">2.12.12</span> <span class="toctext">REMOVE FILE &lt;path&gt;, REMOVE DIRECTORY &lt;path&gt;</span></a></li>
<li class='toclevel-3'><a href="User_Reference%253AOperator_Module_Scripting.html#FORCEREMOVE_DIRECTORY_.3Cpath.3E"><span class="tocnumber">2.12.13</span> <span class="toctext">FORCEREMOVE DIRECTORY &lt;path&gt;</span></a></li>
<li class='toclevel-3'><a href="User_Reference%253AOperator_Module_Scripting.html#CANONICAL_PATH_.3Cpath.3E"><span class="tocnumber">2.12.14</span> <span class="toctext">CANONICAL PATH &lt;path&gt;</span></a></li>
</ul>
</li>
<li class='toclevel-2'><a href="User_Reference%253AOperator_Module_Scripting.html#Commands_operating_on_Lines_of_input.2Foutput"><span class="tocnumber">2.13</span> <span class="toctext">Commands operating on Lines of input/output</span></a>
<ul>
<li class='toclevel-3'><a href="User_Reference%253AOperator_Module_Scripting.html#WRITE_LINE_.3Cline.3E"><span class="tocnumber">2.13.1</span> <span class="toctext">WRITE LINE &lt;line&gt;</span></a></li>
<li class='toclevel-3'><a href="User_Reference%253AOperator_Module_Scripting.html#READ_LINE"><span class="tocnumber">2.13.2</span> <span class="toctext">READ LINE</span></a></li>
</ul>
</li>
<li class='toclevel-2'><a href="User_Reference%253AOperator_Module_Scripting.html#Global_commands"><span class="tocnumber">2.14</span> <span class="toctext">Global commands</span></a>
<ul>
<li class='toclevel-3'><a href="User_Reference%253AOperator_Module_Scripting.html#HELP_.5B.3Ctype.3E.5D"><span class="tocnumber">2.14.1</span> <span class="toctext">HELP [&lt;type&gt;]</span></a></li>
<li class='toclevel-3'><a href="User_Reference%253AOperator_Module_Scripting.html#SET_.3Cname.3E_.3Cvalue.3E.2C_GET_.3Cname.3E.2C_.3Cname.3E"><span class="tocnumber">2.14.2</span> <span class="toctext">SET &lt;name&gt; &lt;value&gt;, GET &lt;name&gt;, &lt;name&gt;</span></a></li>
<li class='toclevel-3'><a href="User_Reference%253AOperator_Module_Scripting.html#GET_SYSTEM_STATE"><span class="tocnumber">2.14.3</span> <span class="toctext">GET SYSTEM STATE</span></a></li>
<li class='toclevel-3'><a href="User_Reference%253AOperator_Module_Scripting.html#WAIT_FOR_.3Csystem_state.3E_.5B.3Ctimeout_seconds.3E.5D"><span class="tocnumber">2.14.4</span> <span class="toctext">WAIT FOR &lt;system state&gt; [&lt;timeout seconds&gt;]</span></a></li>
<li class='toclevel-3'><a href="User_Reference%253AOperator_Module_Scripting.html#SLEEP_.3Ctime_in_seconds.3E"><span class="tocnumber">2.14.5</span> <span class="toctext">SLEEP &lt;time in seconds&gt;</span></a></li>
<li class='toclevel-3'><a href="User_Reference%253AOperator_Module_Scripting.html#GET_SYSTEM_VERSION"><span class="tocnumber">2.14.6</span> <span class="toctext">GET SYSTEM VERSION</span></a></li>
<li class='toclevel-3'><a href="User_Reference%253AOperator_Module_Scripting.html#SETCONFIG.2C_SET_CONFIG"><span class="tocnumber">2.14.7</span> <span class="toctext">SETCONFIG, SET CONFIG</span></a></li>
<li class='toclevel-3'><a href="User_Reference%253AOperator_Module_Scripting.html#START"><span class="tocnumber">2.14.8</span> <span class="toctext">START</span></a></li>
<li class='toclevel-3'><a href="User_Reference%253AOperator_Module_Scripting.html#STOP"><span class="tocnumber">2.14.9</span> <span class="toctext">STOP</span></a></li>
<li class='toclevel-3'><a href="User_Reference%253AOperator_Module_Scripting.html#STARTUP_SYSTEM"><span class="tocnumber">2.14.10</span> <span class="toctext">STARTUP SYSTEM</span></a></li>
<li class='toclevel-3'><a href="User_Reference%253AOperator_Module_Scripting.html#SHUTDOWN_SYSTEM"><span class="tocnumber">2.14.11</span> <span class="toctext">SHUTDOWN SYSTEM</span></a></li>
<li class='toclevel-3'><a href="User_Reference%253AOperator_Module_Scripting.html#RESET_SYSTEM"><span class="tocnumber">2.14.12</span> <span class="toctext">RESET SYSTEM</span></a></li>
<li class='toclevel-3'><a href="User_Reference%253AOperator_Module_Scripting.html#QUIT.2C_EXIT_.5B.3Cresult.3E.5D"><span class="tocnumber">2.14.13</span> <span class="toctext">QUIT, EXIT [&lt;result&gt;]</span></a></li>
<li class='toclevel-3'><a href="User_Reference%253AOperator_Module_Scripting.html#SYSTEM_.3Ccommand_line.3E"><span class="tocnumber">2.14.14</span> <span class="toctext">SYSTEM &lt;command line&gt;</span></a></li>
<li class='toclevel-3'><a href="User_Reference%253AOperator_Module_Scripting.html#START_EXECUTABLE_.3Ccommand_line.3E"><span class="tocnumber">2.14.15</span> <span class="toctext">START EXECUTABLE &lt;command line&gt;</span></a></li>
<li class='toclevel-3'><a href="User_Reference%253AOperator_Module_Scripting.html#LOG_.3Cmessage.3E"><span class="tocnumber">2.14.16</span> <span class="toctext">LOG &lt;message&gt;</span></a></li>
<li class='toclevel-3'><a href="User_Reference%253AOperator_Module_Scripting.html#WARN_.3Cmessage.3E"><span class="tocnumber">2.14.17</span> <span class="toctext">WARN &lt;message&gt;</span></a></li>
<li class='toclevel-3'><a href="User_Reference%253AOperator_Module_Scripting.html#ERROR_.3Cmessage.3E"><span class="tocnumber">2.14.18</span> <span class="toctext">ERROR &lt;message&gt;</span></a></li>
<li class='toclevel-3'><a href="User_Reference%253AOperator_Module_Scripting.html#CAPTURE_MESSAGES_.3Cmessage_types.3E"><span class="tocnumber">2.14.19</span> <span class="toctext">CAPTURE MESSAGES &lt;message types&gt;</span></a></li>
<li class='toclevel-3'><a href="User_Reference%253AOperator_Module_Scripting.html#FLUSH_MESSAGES"><span class="tocnumber">2.14.20</span> <span class="toctext">FLUSH MESSAGES</span></a></li>
</ul>
</li>
<li class='toclevel-2'><a href="User_Reference%253AOperator_Module_Scripting.html#Operator-module_defined_Commands"><span class="tocnumber">2.15</span> <span class="toctext">Operator-module defined Commands</span></a>
<ul>
<li class='toclevel-3'><a href="User_Reference%253AOperator_Module_Scripting.html#HIDE_WINDOW_.5B.3Cname.3E.5D.2C_SHOW_WINDOW_.5B.3Cname.3E.5D"><span class="tocnumber">2.15.1</span> <span class="toctext">HIDE WINDOW [&lt;name&gt;], SHOW WINDOW [&lt;name&gt;]</span></a></li>
<li class='toclevel-3'><a href="User_Reference%253AOperator_Module_Scripting.html#SET_TITLE_.3Ctitle.3E"><span class="tocnumber">2.15.2</span> <span class="toctext">SET TITLE &lt;title&gt;</span></a></li>
<li class='toclevel-3'><a href="User_Reference%253AOperator_Module_Scripting.html#SET_BUTTON_.3Cidx.3E_.3Clabel.3E_.3Ccommands.3E"><span class="tocnumber">2.15.3</span> <span class="toctext">SET BUTTON &lt;idx&gt; &lt;label&gt; &lt;commands&gt;</span></a></li>
</ul>
</li>
</ul>
</li>
<li class='toclevel-1'><a href="User_Reference%253AOperator_Module_Scripting.html#Predefined_Variables"><span class="tocnumber">3</span> <span class="toctext">Predefined Variables</span></a>
<ul>
<li class='toclevel-2'><a href="User_Reference%253AOperator_Module_Scripting.html#BCI2000LAUNCHDIR"><span class="tocnumber">3.1</span> <span class="toctext">BCI2000LAUNCHDIR</span></a></li>
<li class='toclevel-2'><a href="User_Reference%253AOperator_Module_Scripting.html#BCI2000BINARY"><span class="tocnumber">3.2</span> <span class="toctext">BCI2000BINARY</span></a></li>
<li class='toclevel-2'><a href="User_Reference%253AOperator_Module_Scripting.html#Result_.28local.29"><span class="tocnumber">3.3</span> <span class="toctext">Result (local)</span></a></li>
<li class='toclevel-2'><a href="User_Reference%253AOperator_Module_Scripting.html#0.2C_1.2C_..._9_.28local.29"><span class="tocnumber">3.4</span> <span class="toctext">0, 1, ... 9 (local)</span></a></li>
<li class='toclevel-2'><a href="User_Reference%253AOperator_Module_Scripting.html#YYYYMMDD_.28local.29"><span class="tocnumber">3.5</span> <span class="toctext">YYYYMMDD (local)</span></a></li>
<li class='toclevel-2'><a href="User_Reference%253AOperator_Module_Scripting.html#HHMMSS_.28local.29"><span class="tocnumber">3.6</span> <span class="toctext">HHMMSS (local)</span></a></li>
</ul>
</li>
<li class='toclevel-1'><a href="User_Reference%253AOperator_Module_Scripting.html#Abbreviated_commands_and_synonyms"><span class="tocnumber">4</span> <span class="toctext">Abbreviated commands and synonyms</span></a></li>
<li class='toclevel-1'><a href="User_Reference%253AOperator_Module_Scripting.html#Handlers"><span class="tocnumber">5</span> <span class="toctext">Handlers</span></a>
<ul>
<li class='toclevel-2'><a href="User_Reference%253AOperator_Module_Scripting.html#OnConnect"><span class="tocnumber">5.1</span> <span class="toctext">OnConnect</span></a></li>
<li class='toclevel-2'><a href="User_Reference%253AOperator_Module_Scripting.html#OnSetConfig"><span class="tocnumber">5.2</span> <span class="toctext">OnSetConfig</span></a></li>
<li class='toclevel-2'><a href="User_Reference%253AOperator_Module_Scripting.html#OnStart.2C_OnResume"><span class="tocnumber">5.3</span> <span class="toctext">OnStart, OnResume</span></a></li>
<li class='toclevel-2'><a href="User_Reference%253AOperator_Module_Scripting.html#OnSuspend"><span class="tocnumber">5.4</span> <span class="toctext">OnSuspend</span></a></li>
<li class='toclevel-2'><a href="User_Reference%253AOperator_Module_Scripting.html#OnShutdown"><span class="tocnumber">5.5</span> <span class="toctext">OnShutdown</span></a></li>
<li class='toclevel-2'><a href="User_Reference%253AOperator_Module_Scripting.html#OnExit"><span class="tocnumber">5.6</span> <span class="toctext">OnExit</span></a></li>
<li class='toclevel-2'><a href="User_Reference%253AOperator_Module_Scripting.html#Associating_Scripts_with_Operator_Events"><span class="tocnumber">5.7</span> <span class="toctext">Associating Scripts with Operator Events</span></a></li>
</ul>
</li>
<li class='toclevel-1'><a href="User_Reference%253AOperator_Module_Scripting.html#Examples"><span class="tocnumber">6</span> <span class="toctext">Examples</span></a>
<ul>
<li class='toclevel-2'><a href="User_Reference%253AOperator_Module_Scripting.html#Making_use_of_the_Operator_module.27s_Function_Buttons"><span class="tocnumber">6.1</span> <span class="toctext">Making use of the Operator module's Function Buttons</span></a></li>
<li class='toclevel-2'><a href="User_Reference%253AOperator_Module_Scripting.html#A_fully_automated_BCI2000_session"><span class="tocnumber">6.2</span> <span class="toctext">A fully automated BCI2000 session</span></a></li>
<li class='toclevel-2'><a href="User_Reference%253AOperator_Module_Scripting.html#Automating_BCI2000_by_Operator_command_line_arguments"><span class="tocnumber">6.3</span> <span class="toctext">Automating BCI2000 by Operator command line arguments</span></a></li>
</ul>
</li>
<li class='toclevel-1'><a href="User_Reference%253AOperator_Module_Scripting.html#See_also"><span class="tocnumber">7</span> <span class="toctext">See also</span></a></li>
</ul>
</td></tr></table>
<a name="Syntax"></a><h3>Syntax</h3>
<p><b>Command separation.</b> Scripts consist of sequences of the commands listed below. A command must be terminated with either a newline, or a semicolon (;).
This allows to put multiple commands into one line, separated by semicolon characters.
Commands are case-insensitive, variables and values may be case-sensitive, depending on context.
</p><p><b>Comments.</b> Lines starting with a '#' character are ignored. Such lines may be used to hold comments. In addition, when any of the first two lines of a script contains "#!" (the Unix shell invocation sequence), it will be ignored. In conjunction with <a href="User_Reference%253ABCI2000Shell.html" title="User Reference:BCI2000Shell">BCI2000Shell</a>, this may be used to write Operator scripts that may be treated as executables.
</p><p><b>Escaping.</b> In order to resolve ambiguity about command arguments that contain white space, they must be included in double quotes, or the white space must be encoded in URL-fashion, e.g. <i>%20</i> instead of a space character. Similarly, when an argument contains a semicolon (;), it must be included in double quotes, or the semicolon must be encoded in URL-fashion, i.e. as <i>%3B</i>. Also, "$" characters indicate command substitution, so they should be encoded as <i>%24</i> if substitution is not desired.
</p><p><b>Variable Substitution.</b> When a command contains a dollar sign, alphanumeric characters following the dollar sign will be interpreted as the name of a variable: $NAME. The name will be matched against Expression variable names first, followed with Local variable names, and finally Environment variable names. When a match is found, $NAME will be replaced with the content of the matching variable. When no match is found, $NAME will be resolved to an empty string, without triggering an error.
</p><p><b>Command Substitution.</b> When part of a command is enclosed with ${...}, this subexpression will be substituted with the result of its execution as a command. E.g.,
</p>
<pre>LOG "Current system state is: ${GET SYSTEM STATE}"
LOG "The path environment variable is: ${PATH}"
</pre>
<p>Note that the last example uses the short form of the GET command, which will return the value of a PATH parameter or a PATH state if such exists. To make sure that only environment variables are matched, use the long form of the GET command:
</p>
<pre>LOG MESSAGE "The path environment variable is: ${GET VARIABLE PATH}"
</pre>
<p>Substitutions may be nested, i.e. the following will work as expected:
</p>
<pre>SET MyVar "LIST STATES"; LOG "States are: ${$MyVar}"
SET MyVar "LIST STATES"; LOG "States are: ${${GET VARIABLE MyVar}}"
</pre>
<p><b>Mathematical Expressions.</b> A command may consist of a single <a href="User_Reference%253AExpression_Syntax.html" title="User Reference:Expression Syntax">mathematical expression</a>. This expression is then evaluated, and its result is returned as the command's result. As a special case, this allows the use of expression variables in ${...} substitutions. Consider for example
</p>
<pre>x:=0; WHILE x&lt;10; LOG ${x:=x+1}; END
</pre>
<p>There, the first command creates and initializes the expression variable x. In the WHILE condition, an expression is allowed as well as any command. In the LOG command, an expression appears in ${...}, which executes the expression in braces, and substitutes the result of the expression as an argument into the LOG command, which adds an entry to the Operator log. This results in a sequence of 10 log entries, containing the numbers from 1 to 10.
</p>
<a name="Commands"></a><h3>Commands</h3>
<a name="Control_commands"></a><h4>Control commands</h4>
<p>These commands allow conditional execution of parts of a script. When a condition is expected, any other scripting command may be given. Its result will be considered to represent a boolean value of "true" if it is empty, a nonzero number, or the string "true". It will be taken to represent a boolean value of "false" if it contains a numeric value of zero, or any string that does not evaluate to a nonzero number. Note that identification of an empty value with "true" differs from string handling in the EVALUATE CONDITION command. This is because most scripting commands return nothing on success, but an error message on failure.
</p><p>The output of the SYSTEM and START EXECUTABLE commands is handled specially. There, the result code of the created child process is translated into a boolean value in the ordinary manner, treating a result code of zero as "true", and any other result code as "false". This allows to use external commands in the same way as in a native shell.
</p>
<a name="IF_.3Ccondition.3E.3B_.3Cif_commands.3E.3B_.5B_ELSEIF_.3Ccondition.3E.3B_.3Celseif_commands.3E.3B.5D_..._.5B_ELSE.3B_.3Celse_commands.3E.3B.5D_END"></a><h5>IF &lt;condition&gt;; &lt;if commands&gt;; [ ELSEIF &lt;condition&gt;; &lt;elseif commands&gt;;] ... [ ELSE; &lt;else commands&gt;;] END</h5>
<p>Executes <i>if commands</i> if <i>condition</i> evaluates to "true". Otherwise, the <i>elseif commands</i> of the first matching <i>elseif condition</i> are executed. When none of the <i>elseif conditions</i> evaluates to "true",  <i>else commands</i> are executed. ELSEIF and ELSE blocks may be omitted.
</p>
<a name="WHILE_.3Ccondition.3E.3B_.3Cloop_commands.3E.3B_END"></a><h5>WHILE &lt;condition&gt;; &lt;loop commands&gt;; END</h5>
<p>Executes <i>loop commands</i> while <i>condition</i> evaluates to <i>true</i>.
</p>
<a name="DO.3B_.3Cloop_commands.3E.3B_UNTIL_.3Ccondition.3E"></a><h5>DO; &lt;loop commands&gt;; UNTIL &lt;condition&gt;</h5>
<p>Executes <i>loop commands</i> until "condition" evaluates to <i>true</i>.
</p>
<a name="FOR_.3Cname.3E_IN_.3Citem1.3E_.3Citem2.3E_..._.3B_.3Cloop_commands.3E.3B_END"></a><h5>FOR &lt;name&gt; IN &lt;item1&gt; &lt;item2&gt; ...&nbsp;; &lt;loop commands&gt;; END</h5>
<p>Creates a local variable with the specified name. Then, sequentially assigns each <i>item</i> to that variable, and executes <i>loop commands</i>. If an <i>item</i> contains newline characters, it is split up into multiple items, corresponding to the lines contained in the <i>item</i>. E.g.,
</p>
<pre>FOR i IN top ${LIST FILES} bottom; LOG ${i}; END
</pre>
<p>will first write a log entry "top". Then, it will create a log entry for each file in the current directory, and finally, it will create a log entry "bottom".
</p>
<a name="Commands_operating_on_Conditions"></a><h4>Commands operating on Conditions</h4>
<a name="EVALUATE_CONDITION_.3Cleft.3E_.5B.3Cop.3E_.5B.3Cright.3E.5D.5D"></a><h5>EVALUATE CONDITION &lt;left&gt; [&lt;op&gt; [&lt;right&gt;]]</h5>
<p>Evaluates a comparison between the <i>left</i> and <i>right</i> operands. As a comparison operator, the following may be specified: ==,&nbsp;!=, ~=, &lt;, &gt;, &lt;=, &gt;=. There, the&nbsp;!= operator behaves identically to the ~= operator. When a test for equality is performed, the two operands are treated as strings, and compared in a case-insensitive manner. When any of the inequality tests is performed, the two operands are converted into floating-point numbers before comparison.
</p><p>The <i>right</i> operand may be omitted, in which case it is treated as if an empty string were specified. Also, the <i>op</i> operator may be omitted, in which case the following rules apply regarding the remaining operand: If it is an empty string, or equal to the string "false" in case-insensitive comparison, the result is "false". If entirely consists of the text representation of a floating-point number, the result is "false" if the number is 0, and "true" if the number is not 0.
</p><p>Inspired by the GNU bash shell, there exists a short form of the EVALUATE CONDITION command, where the arguments of EVALUATE CONDITION may appear within square brackets. This allows constructs such as
</p>
<pre>IF [ $MyVar == MyValue ]; LOG Is equal; ELSE; LOG Is different; END
</pre>
<p>Note that the arguments to EVALUATE CONDITION must always be separated by white space, no matter whether its long or short form is used.
</p>
<a name="Commands_operating_on_Local_Variables"></a><h4>Commands operating on Local Variables</h4>
<p>Besides environment variables, there exist local variables in scripts. Local variables are inherited by sub-scripts executed with the EXECUTE SCRIPT command, but changes to the variable's values will not be propagated to the calling script.
</p>
<a name="SET_VARIABLE_.3Cname.3E_.3Cvalue.3E"></a><h5>SET VARIABLE &lt;name&gt; &lt;value&gt;</h5>
<p>Sets the named variable to the specified value.
</p>
<a name="CLEAR_VARIABLE_.3Cname.3E"></a><h5>CLEAR VARIABLE &lt;name&gt;</h5>
<p>Removes the named variable from memory.
</p>
<a name="GET_VARIABLE_.3Cname.3E"></a><h5>GET VARIABLE &lt;name&gt;</h5>
<p>Returns the variable's current value. When the variable does not exist, an empty value is returned rather than an error message.
</p>
<a name="Commands_operating_on_Environment_Variables"></a><h4>Commands operating on Environment Variables</h4>
<p>These scripting commands allow to read and modify environment variables. Changes to environment variables will be visible to child processes started with SYSTEM or START EXECUTABLE. Variable values are stored as strings. Variable names may not contain the equals sign.
</p>
<a name="SET_ENVIRONMENT_.3Cname.3E_.3Cvalue.3E"></a><h5>SET ENVIRONMENT &lt;name&gt; &lt;value&gt;</h5>
<p>Sets the named variable to the specified value.
</p>
<a name="CLEAR_ENVIRONMENT_.3Cname.3E"></a><h5>CLEAR ENVIRONMENT &lt;name&gt;</h5>
<p>Removes the named variable from memory.
</p>
<a name="GET_ENVIRONMENT_.3Cname.3E"></a><h5>GET ENVIRONMENT &lt;name&gt;</h5>
<p>Returns the variable's current value. When the variable does not exist, an empty value is returned rather than an error message.
</p>
<a name="Commands_operating_on_Scripts"></a><h4>Commands operating on Scripts</h4>
<a name="SET_SCRIPT_.3Chandler_names.3E_.3Cscripting_commands.3E"></a><h5>SET SCRIPT &lt;handler names&gt; &lt;scripting commands&gt;</h5>
<p>Associates a sequence of scripting commands with the named handler. Handlers are specified by names as given <a href="User_Reference%253AOperator_Module_Scripting.html#Handlers" title="">below</a>. Multiple handlers may be specified by concatenating their names with a pipe character, e.g. "OnStart|OnResume".
</p><p>Scripting commands must be included in double quotes, unless they consist of a single word.
When specifying a sequence of scripting commands, they must be separated with a semicolon character: "SetConfig; Start". In order to use double quotes or semicolons within the commands themselves, encode these as you would in a URL, i.e. replace a double quote character with <i>%22</i>, and a semicolon with <i>%3B</i>: "Load Parameters %22my file%22".
</p><p>To use a script file rather than a literal script, use the EXECUTE SCRIPT command:
</p>
<pre>SET SCRIPT OnConnect "EXECUTE SCRIPT myscript.txt"
</pre>
<a name="GET_SCRIPT_.3Chandler_name.3E"></a><h5>GET SCRIPT &lt;handler name&gt;</h5>
<p>Returns the script associated with the specified handler.
</p>
<a name="CLEAR_SCRIPT_.3Chandler_names.3E"></a><h5>CLEAR SCRIPT &lt;handler names&gt;</h5>
<p>Clears scripts for the given handlers. Equivalent to calling SET SCRIPT with an empty script.
</p>
<a name="EXECUTE_SCRIPT_.3Cfile_or_handler_name.3E_.5B.3CArg1.3E_.3CArg2.3E_..._.3CArg9.3E.5D"></a><h5>EXECUTE SCRIPT &lt;file or handler name&gt; [&lt;Arg1&gt; &lt;Arg2&gt; ... &lt;Arg9&gt;]</h5>
<p>Executes a script contained in a file, and optionally sets the script's local variables <i>1</i> to <i>9</i> to the specified values. To execute script commands already associated with a handler, provide a handler name rather than a file. When the script is executed successfully, the result of the last executed script command becomes the result of the EXECUTE SCRIPT command itself. Use "SET Result &lt;value&gt;" as the last command in a script in order to return a certain value.
</p>
<a name="Commands_operating_on_Parameters"></a><h4>Commands operating on Parameters</h4>
<a name="LOAD_PARAMETERFILE_.3Cfile.3E.2C_LOAD_PARAMETERS_.3Cfile.3E"></a><h5>LOAD PARAMETERFILE &lt;file&gt;, LOAD PARAMETERS &lt;file&gt;</h5>
<p>Loads a parameter file specified by its path and name. Relative paths are interpreted relative to the operator module's working directory at startup. Usually, this matches the executable's location in the <tt>prog</tt> directory.
As the parameter file name must not contain white space, please use HTML-type encoding for white space characters, such as <tt>Documents%20and%20Settings</tt> when referring to a user's "Documents and Settings" folder.
</p>
<a name="ADD_PARAMETER_.3Cparameter_definition.3E"></a><h5>ADD PARAMETER &lt;parameter definition&gt;</h5>
<p>Adds a parameter to the system. The parameter is specified as a <a href="Technical_Reference%253AParameter_Definition.html#Parameter_Lines" title="Technical Reference:Parameter Definition">parameter line</a>. This command may not be used after system initialization has completed, i.e. its use is restricted to the "Idle" and "Publishing" <a href="Technical_Reference%253AStates_of_Operation.html#Publishing_Phase" title="Technical Reference:States of Operation">phases of system operation</a>. In terms of handlers, its use is restricted to the <i>OnConnect</i> handler.
</p>
<a name="EXISTS_PARAMETER_.3Cname.3E"></a><h5>EXISTS PARAMETER &lt;name&gt;</h5>
<p>Returns "true" when the specified parameter exists in the system, and "false" otherwise.
</p>
<a name="SET_PARAMETER_.3Cname.3E.5B.28_idx1.2C_idx2_.29.5D_.3Cvalue.3E"></a><h5>SET PARAMETER &lt;name&gt;[( idx1, idx2 )] &lt;value&gt;</h5>
<p>Sets the named parameter to the specified value. Values that contain special characters, or whitespace must use the <a href="Technical_Reference%253AParameter_Definition.html#Special_Characters" title="Technical Reference:Parameter Definition">parameter value encoding</a>. Use parentheses to specify indices or labels.
</p>
<a name="SET_PARAMETER_.3Cparameter_line.3E"></a><h5>SET PARAMETER &lt;parameter line&gt;</h5>
<p>Replace a parameter's value and definition with the information given in the <a href="Technical_Reference%253AParameter_Definition.html#Parameter_Lines" title="Technical Reference:Parameter Definition">parameter line</a>. The parameter must exist in the system when this command is executed.
0
</p>
<a name="GET_PARAMETER_.3Cname.3E.5B.28_idx1.2C_idx2_.29.5D"></a><h5>GET PARAMETER &lt;name&gt;[( idx1, idx2 )]</h5>
<p>Prints the value of the named parameter. Use parentheses to specify indices or labels. Use parentheses to specify indices or labels.
</p>
<a name="LIST_PARAMETER_.3Cwildcard_expression.3E.2C_LIST_PARAMETERS"></a><h5>LIST PARAMETER &lt;wildcard expression&gt;, LIST PARAMETERS</h5>
<p>Prints all parameters with names matching the wildcard expression, in form of parameter lines.
</p>
<a name="CLEAR_PARAMETERS"></a><h5>CLEAR PARAMETERS</h5>
<p>Clears the list of parameters in the system. May only be executed in <i>Idle</i> and <i>Publishing</i> system states.
</p>
<a name="Commands_operating_on_States"></a><h4>Commands operating on States</h4>
<a name="ADD_STATE_.3Cname.3E_.3Cbit_width.3E_.3Cinitial_value.3E"></a><h5>ADD STATE &lt;name&gt; &lt;bit width&gt; &lt;initial value&gt;</h5>
<p>Adds a state variable to the system. State variables are defined by name, bit width, and initial value (see <a href="Technical_Reference%253AState_Definition.html" title="Technical Reference:State Definition">Technical Reference:State Definition</a>). This command may not be used after system initialization has completed, i.e. its use is restricted to the "Idle" and "Publishing" <a href="Technical_Reference%253AStates_of_Operation.html#Publishing_Phase" title="Technical Reference:States of Operation">phases of system operation</a>. In terms of handlers, its use is restricted to the <i>OnConnect</i> handler.
</p>
<a name="EXISTS_STATE_.3Cname.3E"></a><h5>EXISTS STATE &lt;name&gt;</h5>
<p>Returns "true" when the specified state exists in the system, and "false" otherwise.
</p>
<a name="SET_STATE_.3Cname.3E_.3Cvalue.3E"></a><h5>SET STATE &lt;name&gt; &lt;value&gt;</h5>
<p>Sets the named state variable to the specified integer value. Setting the <i>Running</i> state to 1 will start system operation, setting it to 0 will suspend the system.
</p>
<a name="GET_STATE_.3Cname.3E"></a><h5>GET STATE &lt;name&gt;</h5>
<p>Gets the value of the named state. Note that state values are not updated from the application module when the <i>OperatorBackLink</i> parameter is 0. In that case, GET STATE will return the state's initial value.
</p>
<a name="LIST_STATE_.3Cwildcard_expression.3E.2C_LIST_STATES"></a><h5>LIST STATE &lt;wildcard expression&gt;, LIST STATES</h5>
<p>Lists all states, or states with names matching the given wildcard expression, in form of state lines.
</p>
<a name="CLEAR_STATES"></a><h5>CLEAR STATES</h5>
<p>Clears the list of states in the system. May only be executed in <i>Idle</i> and <i>Publishing</i> system states.
</p>
<a name="Commands_operating_on_Events"></a><h4>Commands operating on Events</h4>
<p>Events are a special type of state, which are recorded asynchronously, at single-sample resolution. Events may only be added while the system is in "idle" state. This kind of events is not related to <a href="User_Reference%253AOperator_Module_Scripting.html#Handlers" title="">Operator Events</a> as defined below.
</p>
<a name="ADD_EVENT_.3Cname.3E_.3Cbit_width.3E_.3Cinitial_value.3E"></a><h5>ADD EVENT &lt;name&gt; &lt;bit width&gt; &lt;initial value&gt;</h5>
<p>Adds an event to the system. Like state variables, events are defined by name, bit width, and initial value (see <a href="Technical_Reference%253AState_Definition.html" title="Technical Reference:State Definition">Technical Reference:State Definition</a>). This command may not be used after the system has started up, so it is typically executed within a telnet session before <i>STARTUP</i> has been called.
</p>
<a name="EXISTS_EVENT_.3Cname.3E"></a><h5>EXISTS EVENT &lt;name&gt;</h5>
<p>Returns "true" when the specified event exists in the system, and "false" otherwise.
</p>
<a name="SET_EVENT_.3Cname.3E_.3Cvalue.3E"></a><h5>SET EVENT &lt;name&gt; &lt;value&gt;</h5>
<p>Asynchronously sets an event to the given value. Recording events requires the EventLink logger component to be present in the source module.
</p>
<a name="GET_EVENT_.3Cname.3E"></a><h5>GET EVENT &lt;name&gt;</h5>
<p>Gets the value of the named event. Note that evemt values are not updated from the application module when the <i>OperatorBackLink</i> parameter is 0.
</p>
<a name="LIST_EVENT_.3Cwildcard_expression.3E.2C_LIST_EVENTS"></a><h5>LIST EVENT &lt;wildcard expression&gt;, LIST EVENTS</h5>
<p>Lists all events, or events with names matching the given wildcard expression, in form of state lines.
</p>
<a name="CLEAR_EVENTS"></a><h5>CLEAR EVENTS</h5>
<p>Clears the list of events in the system. May only be executed in <i>Idle</i> state.
</p>
<a name="Commands_operating_on_VisProperties"></a><h4>Commands operating on VisProperties</h4>
<a name="SET_VISPROPERTY_.3CvisID.3E..3Cname.3E_.3Cvalue.3E"></a><h5>SET VISPROPERTY &lt;visID&gt;.&lt;name&gt; &lt;value&gt;</h5>
<p>Sets the named <a href="Technical_Reference%253AVisualization_Properties.html" title="Technical Reference:Visualization Properties">visualization property</a> for the specified visualization ID to the given value. If the visualization ID contains a dot character, it must be encoded in <a href="Technical_Reference%253AParameter_Definition.html#Special_Characters" title="Technical Reference:Parameter Definition">parameter value encoding</a>. E.g., setting the window width for the visualization ID "2.D1" would be written <code>SET VISPROPERTY 2%2ED1.Width 200</code>.
</p>
<a name="GET_VISPROPERTY_.3CvisID.3E..3Cname.3E"></a><h5>GET VISPROPERTY &lt;visID&gt;.&lt;name&gt;</h5>
<p>Prints the value of the named <a href="Technical_Reference%253AVisualization_Properties.html" title="Technical Reference:Visualization Properties">visualization property</a> for the specified visualization ID.
</p>
<a name="SET_VISPROPERTIES_.3Cproperty_set_ID.3E"></a><h5>SET VISPROPERTIES &lt;property set ID&gt;</h5>
<p>Applies a set of visualization property values as given in the <a href="User_Reference%253AOperator_Module_Scripting.html#VisPropertySets" title="">VisPropertySets</a> parameter. In that matrix-valued parameter, row labels specify visualization properties such as "SRCD.Left", and columns represent sets of property values. Column labels are IDs of the corresponding property sets.
</p>
<a name="Commands_operating_on_the_Control_Signal"></a><h4>Commands operating on the Control Signal</h4>
<a name="GET_SIGNAL.28_.3Cchannel_index.3E.2C_.3Celement_index.3E_.29"></a><h5>GET SIGNAL( &lt;channel index&gt;, &lt;element index&gt; )</h5>
<p>Prints the value of the control signal at the given indices. Indices are 1-based.
</p>
<a name="Commands_operating_on_Expressions"></a><h4>Commands operating on Expressions</h4>
<a name="EVALUATE_EXPRESSION_.3Cexpression.3E"></a><h5>EVALUATE EXPRESSION &lt;expression&gt;</h5>
<p>This command treats the remainder of the command as a literal mathematical expression (for a description, see <a href="User_Reference%253AExpression_Syntax.html" title="User Reference:Expression Syntax">User Reference:Expression Syntax</a>. An expression may contain variable assignments; such variables may then be used in later expressions. Note that expression variables are different from local and environment variables that may be accessed by GET/SET VARIABLE/ENVIRONMENT. Expression variables hold numerical values, while local and environment variables hold string values. Also, environment variables are accessible to child processes started with SYSTEM or START EXECUTABLE, while expression variables are accessible only to scripts. When a script is executed using the EXECUTE SCRIPT command, it will inherit a copy of all expression variables present. Changes to these variables from the executed script will not be visible in the parent script.
</p>
<a name="CLEAR_EXPRESSION_VARIABLE_.3Cname.3E"></a><h5>CLEAR EXPRESSION VARIABLE &lt;name&gt;</h5>
<p>Clears the named expression variable from storage.
</p>
<a name="Commands_operating_on_Files.2C_Directories.2C_and_Paths"></a><h4>Commands operating on Files, Directories, and Paths</h4>
<a name="EXTRACT_DIRECTORY_.3Cpath.3E.2C_EXTRACT_FILE_.3Cpath.3E.2C_EXTRACT_FILE_BASE_.3Cpath.3E"></a><h5>EXTRACT DIRECTORY &lt;path&gt;, EXTRACT FILE &lt;path&gt;, EXTRACT FILE BASE &lt;path&gt;</h5>
<p>Extracts the directory or file portion of a given path. When the path specifies a non-existing directory, the directory name must be followed with a separator ("/") in order to be recognized as a directory. The EXTRACT DIRECTORY command always returns its result with a trailing separator. The EXTRACT FILE BASE command returns the file portion without extension.
</p>
<a name="IS_DIRECTORY_.3Cpath.3E.2C_IS_FILE_.3Cpath.3E.2C_IS_PATH_.3Cpath.3E"></a><h5>IS DIRECTORY &lt;path&gt;, IS FILE &lt;path&gt;, IS PATH &lt;path&gt;</h5>
<p>Determines whether the specified path points to an existing directory, file, or any of the two. The result is returned as one of the strings "true" or "false".
</p>
<a name="PARENT_DIRECTORY_.3Cpath.3E"></a><h5>PARENT DIRECTORY &lt;path&gt;</h5>
<p>Returns the parent directory of the specified path, independently of whether the path points to a directory, or to a file.
</p>
<a name="CURRENT_DIRECTORY"></a><h5>CURRENT DIRECTORY</h5>
<p>Returns the current working directory.
</p>
<a name="CHANGE_DIRECTORY_.3Cpath.3E"></a><h5>CHANGE DIRECTORY &lt;path&gt;</h5>
<p>Changes the working directory.
</p>
<a name="MAKE_DIRECTORY_.3Cpath.3E"></a><h5>MAKE DIRECTORY &lt;path&gt;</h5>
<p>Creates a new directory with the given path. The directory's parent must exist for the command to succeed.
</p>
<a name="LIST_DIRECTORY_.5B.3Cpath.3E_or_.3Cwildcard_expression.3E.5D"></a><h5>LIST DIRECTORY [&lt;path&gt; or &lt;wildcard expression&gt;]</h5>
<p>Returns a listing of the specified directory, or the current working directory if no path is specified. The listing is in long form. You may use wildcard expressions in order to restrict the output.
</p>
<a name="LIST_FILE_.3Cwildcard_expression.3E"></a><h5>LIST FILE &lt;wildcard expression&gt;</h5>
<p>Returns a list of file names matching <i>wildcard expression</i> in the current directory.
</p>
<a name="LIST_FILES_.5B.3Cdirectory.3E_.5B.3Cwildcard_expression.3E.5D.5D"></a><h5>LIST FILES [&lt;directory&gt; [&lt;wildcard expression&gt;]]</h5>
<p>Returns a list of file names from the specified directory, matching <i>wildcard expression</i>. When <i>wildcard expression</i> is missing, all files are listed. When <i>directory</i> is missing, files in the current directory are listed.
</p>
<a name="LIST_DIRECTORIES_.5B.3Cdirectory.3E_.5B.3Cwildcard_expression.3E.5D.5D"></a><h5>LIST DIRECTORIES [&lt;directory&gt; [&lt;wildcard expression&gt;]]</h5>
<p>Returns a list of directory names from the specified directory, matching <i>wildcard expression</i>. When <i>wildcard expression</i> is missing, all directories are listed. When <i>directory</i> is missing, directories in the current directory are listed.
</p>
<a name="RENAME_FILE_.3Ccurrent_path.3E_.3Cnew_path.3E.2C_RENAME_DIRECTORY_.3Ccurrent_path.3E_.3Cnew_name.3E"></a><h5>RENAME FILE &lt;current path&gt; &lt;new path&gt;, RENAME DIRECTORY &lt;current path&gt; &lt;new name&gt;</h5>
<p>Renames a file resp. a directory. For files, a different path may be given in the second argument, resulting in that the file is moved to the location specified by the new path. For directories, the path up to the directory's name must stay the same.
</p>
<a name="REMOVE_FILE_.3Cpath.3E.2C_REMOVE_DIRECTORY_.3Cpath.3E"></a><h5>REMOVE FILE &lt;path&gt;, REMOVE DIRECTORY &lt;path&gt;</h5>
<p>Removes the specified file or directory. This command cannot be undone. The directory must be empty for the command to succeed.
</p>
<a name="FORCEREMOVE_DIRECTORY_.3Cpath.3E"></a><h5>FORCEREMOVE DIRECTORY &lt;path&gt;</h5>
<p>Removes the specified directory and its contents. Symbolic links are treated as ordinary files, i.e. they are not followed. This command cannot be undone.
</p>
<a name="CANONICAL_PATH_.3Cpath.3E"></a><h5>CANONICAL PATH &lt;path&gt;</h5>
<p>Translates the given path into canonical form, i.e. into an absolute path without symlinks. All directories along the path must exist in order for the command to succeed.
</p>
<a name="Commands_operating_on_Lines_of_input.2Foutput"></a><h4>Commands operating on Lines of input/output</h4>
<a name="WRITE_LINE_.3Cline.3E"></a><h5>WRITE LINE &lt;line&gt;</h5>
<p>Writes a line of output. Destination depends on the context in which a script is executed. If the context is an Operator Handler , output written as a log entry. If the context is a telnet session, output is written to the telnet connection. If the context is a <a href="User_Reference%253ABCI2000Shell.html" title="User Reference:BCI2000Shell">BCI2000Shell</a>, output is written to the shell's stdout.
</p>
<a name="READ_LINE"></a><h5>READ LINE</h5>
<p>Reads a line of input from the current execution context's input. If the command is executed within an Operator Handler, it will fail. If executed within a telnet session, the other side of the connection is prompted for input. If executed from within a <a href="User_Reference%253ABCI2000Shell.html" title="User Reference:BCI2000Shell">BCI2000Shell</a>, input is read from the shell's stdin.
</p>
<a name="Global_commands"></a><h4>Global commands</h4>
<a name="HELP_.5B.3Ctype.3E.5D"></a><h5>HELP [&lt;type&gt;]</h5>
<p>When called with a type argument, lists commands that exist for the specified type (e.g., SYSTEM, or FILE). When called without argument, lists all commands and their synonyms.
</p>
<a name="SET_.3Cname.3E_.3Cvalue.3E.2C_GET_.3Cname.3E.2C_.3Cname.3E"></a><h5>SET &lt;name&gt; &lt;value&gt;, GET &lt;name&gt;, &lt;name&gt;</h5>
<p>Allows to set or retrieve the value of local and environment variables. The name is matched against local and environment variables. When no variable with the given name is found, SET will create a local variable, while GET will result in an error. GET may be further abbreviated to only consist of a name.
</p><p>GET further allows evaluation of <a href="User_Reference%253AExpression_Syntax.html" title="User Reference:Expression Syntax">mathematical expressions</a>. When the expression is invalid, or contains an unknown variable, an error is triggered.
</p>
<a name="GET_SYSTEM_STATE"></a><h5>GET SYSTEM STATE</h5>
<p>Prints the current system state. This will be one of Unavailable, Idle, Startup, Initialization, Resting, Suspended, ParamsModified, Running, Termination, Busy.
</p>
<a name="WAIT_FOR_.3Csystem_state.3E_.5B.3Ctimeout_seconds.3E.5D"></a><h5>WAIT FOR &lt;system state&gt; [&lt;timeout seconds&gt;]</h5>
<p>Waits until the system is in the specified state. This may be one of Unavailable, Idle, Startup, Connected (a synonym for "Initialization" - the latter is also valid since it is compatible with the nomenclature in StateMachine.h,  but it is avoided because it is easily confused with, but very distinct from, the actions performed in the Initialize() phase), Resting, Suspended, ParamsModified, Running, Termination, Busy, or a combination of these, separated with a pipe character: "Resting|Suspended". When no timeout is given, this commands waits indefinitely. When timeout occurs, an error message is returned.
</p>
<a name="SLEEP_.3Ctime_in_seconds.3E"></a><h5>SLEEP &lt;time in seconds&gt;</h5>
<p>Waits (sleeps) for the given amount of time. Timing resolution is 50ms. Tends to sleep a little longer than specified, with the error growing with duration.
</p>
<a name="GET_SYSTEM_VERSION"></a><h5>GET SYSTEM VERSION</h5>
<p>Prints BCI2000 version information.
</p>
<a name="SETCONFIG.2C_SET_CONFIG"></a><h5>SETCONFIG, SET CONFIG</h5>
<p>Applies current parameters to the system. Corresponds to the <i>SetConfig</i> button in the GUI version of the Operator module.
</p>
<a name="START"></a><h5>START</h5>
<p>Starts or resumes system operation, corresponding to the <i>Start/Resume</i> button in the GUI version of the Operator module.
</p>
<a name="STOP"></a><h5>STOP</h5>
<p>Stops system operation. Corresponds to the <i>Stop</i> button in the GUI version of the Operator.
</p>
<a name="STARTUP_SYSTEM"></a><h5>STARTUP SYSTEM</h5>
<p>When in idle state, starts up the system to wait for incoming connections from core modules. Additionally, the following arguments may be given: 1) an IP address on which to listen (default is to listen on all addresses), and 2) a list of generic core module names with ports. The default configuration corresponds to these arguments:
</p>
<pre>STARTUP SYSTEM * SignalSource:4000 SignalProcessing:4001 Application:4002
</pre>
<a name="SHUTDOWN_SYSTEM"></a><h5>SHUTDOWN SYSTEM</h5>
<p>Shuts down core modules, and enters idle system state.
</p>
<a name="RESET_SYSTEM"></a><h5>RESET SYSTEM</h5>
<p>Shuts down the system, and clears all parameter, state, and event information.
</p>
<a name="QUIT.2C_EXIT_.5B.3Cresult.3E.5D"></a><h5>QUIT, EXIT [&lt;result&gt;]</h5>
<p>Quits the operator module after terminating all BCI2000 modules. The optional <i>result</i> argument determines the result of the executed script.
</p>
<a name="SYSTEM_.3Ccommand_line.3E"></a><h5>SYSTEM &lt;command line&gt;</h5>
<p>Executes a shell command, redirecting any console output into the command's script result. E.g., to obtain a directory listing, under Windows, you would enter
</p>
<pre>SYSTEM DIR
</pre>
<p><b>NOTE:</b> Arguments to the SYSTEM command are executed in the operating system's shell context, and thus may require quoting different from the other scripting commands. E.g., writing
</p>
<pre>SET mydir ${PARENT DIRECTORY $BCI2000LAUNCHDIR}; ECHO ${LIST FILES $mydir}
</pre>
<p>will list files in the BCI2000 main directory, independently of whether the path to that directory contains space characters or not. However, to obtain a directory listing through the SYSTEM command, you would need to write
</p>
<pre>ECHO ${SYSTEM DIR "$mydir"}
</pre>
<p>to make sure the content of the variable <i>mydir</i> is interpreted as a single argument, independently of whether it contains space characters.
</p>
<a name="START_EXECUTABLE_.3Ccommand_line.3E"></a><h5>START EXECUTABLE &lt;command line&gt;</h5>
<p>Starts the specified executable with options. This command returns after the started program has finished initialization, i.e. it will detect load time failures such as missing DLLs on Windows. Please note that START EXECUTABLE requires quoting of arguments differently from other scripting commands. For details, see the SYSTEM command.
</p>
<a name="LOG_.3Cmessage.3E"></a><h5>LOG &lt;message&gt;</h5>
<p>Append the specified message to the system log.
</p>
<a name="WARN_.3Cmessage.3E"></a><h5>WARN &lt;message&gt;</h5>
<p>Append the specified message to the system log, formatted as a warning.
</p>
<a name="ERROR_.3Cmessage.3E"></a><h5>ERROR &lt;message&gt;</h5>
<p>Append the specified message to the system log, formatted as an error message.
</p>
<a name="CAPTURE_MESSAGES_.3Cmessage_types.3E"></a><h5>CAPTURE MESSAGES &lt;message types&gt;</h5>
<p>Captures system log messages into a background buffer. When no message type is given, all messages are captured. When "None" is given as a message type, message capturing is disabled. Otherwise, the message type must be one of "Errors", "Warnings", "Debug", "Log". Multiple message types may be specified in a single command. When "None" appears within a single command, all preceding message types are ignored. Multiple CAPTURE MESSAGES commands are cumulative, except when "None" is specified as a message type.
</p>
<a name="FLUSH_MESSAGES"></a><h5>FLUSH MESSAGES</h5>
<p>Clears the background message buffer, and returns its previous content. Use CAPTURE MESSAGES to capture messages into the background message buffer.
</p>
<a name="Operator-module_defined_Commands"></a><h4>Operator-module defined Commands</h4>
<a name="HIDE_WINDOW_.5B.3Cname.3E.5D.2C_SHOW_WINDOW_.5B.3Cname.3E.5D"></a><h5>HIDE WINDOW [&lt;name&gt;], SHOW WINDOW [&lt;name&gt;]</h5>
<p>Hides or shows the specified window. When called without a window name, the Operator module's main window is hidden or shown. The window name may be one of Main, Configuration, or Log.
</p>
<a name="SET_TITLE_.3Ctitle.3E"></a><h5>SET TITLE &lt;title&gt;</h5>
<p>Sets the title of the main Operator window.
</p>
<a name="SET_BUTTON_.3Cidx.3E_.3Clabel.3E_.3Ccommands.3E"></a><h5>SET BUTTON &lt;idx&gt; &lt;label&gt; &lt;commands&gt;</h5>
<p>Configures the function button with 1-based index <i>idx</i> such that it is labelled <i>label</i> and executes <i>commands</i>.
</p>
<a name="Predefined_Variables"></a><h3>Predefined Variables</h3>
<p>The following variables exist when an Operator script is executed.
Some of these variables are marked with <i>local</i>. This means that they are not environment variables, i.e. they are invisible to child processes that are launched using the SYSTEM or START EXECUTABLE commands, and their values may be different between script invocations. In script code, they are accessed like ordinary variables.
</p>
<a name="BCI2000LAUNCHDIR"></a><h4>BCI2000LAUNCHDIR</h4>
<p>The full absolute path to the working directory when the Operator module was launched. This is also prepended to the PATH environment variable, such that executables from the current BCI2000 installation will have precedence over any other executable with the same name.
</p>
<a name="BCI2000BINARY"></a><h4>BCI2000BINARY</h4>
<p>The full absolute path to the Operator module.
</p>
<a name="Result_.28local.29"></a><h4>Result (local)</h4>
<p>The result of the last executed scripting command. When a script is executed by calling EXECUTE SCRIPT, the script's last executed command determines the result of the EXECUTE SCRIPT command itself.
</p>
<a name="0.2C_1.2C_..._9_.28local.29"></a><h4>0, 1, ... 9 (local)</h4>
<p>When a script file is being executed, these variables contain the arguments of the EXECUTE SCRIPT command.
<i>$0</i> resolves to the full absolute path to the current script file. Within scripts, all of the <i>0-9</i> variables are defined, and those that do not have a matching argument are empty. Outside of scripts, these variables do not exist.
</p>
<a name="YYYYMMDD_.28local.29"></a><h4>YYYYMMDD (local)</h4>
<p>Local time at execution of the current script, in YYYYMMDD format. In interactive sessions, reflects the time when the session was initiated.
</p>
<a name="HHMMSS_.28local.29"></a><h4>HHMMSS (local)</h4>
<p>Local time at execution of the current script, in HHMMSS format. In interactive sessions, reflects the time when the session was initiated.
</p>
<a name="Abbreviated_commands_and_synonyms"></a><h3>Abbreviated commands and synonyms</h3>
<p>To minimize the need of consulting documentation, as well as for backward compatibility, a number of <b>synonymous commands</b> are provided. E.g., states may be added by INSERT STATE as well as ADD state, and the existence of a file may be queried by IS FILE as well as EXISTS FILE. For an overview over all allowed forms of commands, enter the HELP command.
</p><p>To simplify operation in interactive sessions, <b>abbreviated commands</b> exist. Currently, these are:
</p>
<dl><dd><b>cd</b> for CHANGE DIRECTORY,
</dd><dd><b>pwd</b> and <b>cd</b> without argument for CURRENT DIRECTORY,
</dd><dd><b>ls</b> and <b>dir</b> for LIST DIRECTORY,
</dd><dd><b>mkdir</b> for MAKE DIRECTORY,
</dd><dd><b>echo</b> for WRITE LINE.
</dd></dl>
<a name="Handlers"></a><h3>Handlers</h3>
<p>In the Operator GUI, script execution is bound to a number of Operator Events (not to be confused with Event states, above) that occur during various <a href="Technical_Reference%253AStates_of_Operation.html" title="Technical Reference:States of Operation">stages of BCI2000 system operation</a>:
</p>
<a name="OnConnect"></a><h4>OnConnect</h4>
<p>This handler runs at startup, as soon as all modules are connected to the operator module.
</p>
<a name="OnSetConfig"></a><h4>OnSetConfig</h4>
<p>This handler runs each time a set of parameters is applied to the system. This happens when the user clicks the <i>SetConfig</i> button. Execution of the <i>SETCONFIG</i> command also runs this handler.
</p>
<a name="OnStart.2C_OnResume"></a><h4>OnStart, OnResume</h4>
<p>These handlers are triggered by the <i>Start</i>/<i>Resume</i> button. One of these handlers is also triggered when the <i>Running</i> state variable is set to 1 from a script. Whether <i>OnStart</i> or <i>OnResume</i> is triggered depends on whether the system has been running before with the current set of parameters.
</p>
<a name="OnSuspend"></a><h4>OnSuspend</h4>
<p>Triggered when the system goes from running into suspended mode. This happens whenever the <i>Running</i> state variable changes from 1 to 0. This may happen when the user clicks <i>Suspend</i>, when the application module switches the system into suspended mode, or when a script sets the <i>Running</i> state variable to 0.
</p>
<a name="OnShutdown"></a><h4>OnShutdown</h4>
<p>Triggered when the operator module shuts down connections, and switches into idle state.
</p>
<a name="OnExit"></a><h4>OnExit</h4>
<p>Triggered when the operator module exits. Execution of the QUIT command also triggers this handler. This handler is not available to the SET SCRIPT and CLEAR SCRIPT commands. Also, when both an OnShutdown and an OnExit script are defined, the OnExit script may be executed before the OnShutdown script.
</p>
<a name="Associating_Scripts_with_Operator_Events"></a><h4>Associating Scripts with Operator Events</h4>
<p>In the operator module's preferences dialog, script commands may be entered for each of the handlers listed above.
Scripts may be specified as paths to script files, or as immediate one-line scripts.
Entries that start with a minus sign (-) are treated as one-line scripts, which may contain multiple commands separated with semicolons.
</p><p>Scripts may also be specified from the command line used to start up the operator module. There, handler names are followed with the content of the respective preference entry, enclosed in double quotes ("...").
</p><p>Finally, scripts may be specified using the SET SCRIPT command of the scripting language itself.
</p>
<a name="Examples"></a><h3>Examples</h3>
<a name="Making_use_of_the_Operator_module.27s_Function_Buttons"></a><h4>Making use of the Operator module's Function Buttons</h4>
<p>To add a state variable called "Artifact", and to set it using the operator's function buttons, do this:
</p>
<ul><li>Enter the following line under "After All Modules Connected" in the operator's preferences dialog (note the minus sign):
</li></ul>
<pre>-ADD STATE Artifact 1 0
</pre>
<ul><li>Under "Function Buttons", enter "Set Artifact" as the name of button 1, and as its command, enter (note there is no minus sign):
</li></ul>
<pre>SET STATE Artifact 1
</pre>
<ul><li>Enter "Clear Artifact" as the name of button 2, and as its command, enter
</li></ul>
<pre>SET STATE Artifact 0
</pre>
<a name="A_fully_automated_BCI2000_session"></a><h4>A fully automated BCI2000 session</h4>
<pre>
Echo Please enter a subject ID:
Set SubjectID ${Read line}

Startup system
Start executable SignalGenerator
Start executable SpectralSignalProcessing
Start executable CursorTask
Wait for Connected
Load parameterfile &quot;../parms/examples/CursorTask_SignalGenerator.prm&quot;
For i in 1 2 3
  Load parameterfile &quot;../parms/MyExperiment/Session$i.prm&quot;
  Set parameter SubjectName $SubjectID
  Set parameter SubjectSession $i
  Set config
  Wait for Resting
  Start
  Wait for Suspended 1000
End
</pre>
<a name="Automating_BCI2000_by_Operator_command_line_arguments"></a><h4>Automating BCI2000 by Operator command line arguments</h4>
<p>The following example shows how to specify script commands from the command line.
It fully automates BCI2000 operation by loading a parameter file, applying parameters, starting the system once the parameters are applied, and quitting the system once the run is over. For better readability, the example is broken across lines, using the ^ DOS line continuation character.
</p>
<pre>operator.exe --OnConnect "-LOAD PARAMETERFILE ../parms/examples/CursorTask_SignalGenerator.prm; SETCONFIG" ^
             --OnSetConfig "-SET STATE Running 1"  ^
             --OnSuspend "-QUIT"
</pre>
<a name="See_also"></a><h2>See also</h2>
<p><a href="User_Reference%253AModule_Command_Line_Options.html" title="User Reference:Module Command Line Options">User Reference:Module Command Line Options</a>, <a href="User_Reference%253AOperator_Module.html" title="User Reference:Operator Module">User Reference:Operator Module</a>, <a href="User_Reference%253ABCI2000Shell.html" title="User Reference:BCI2000Shell">User Reference:BCI2000Shell</a>, <a href="Technical_Reference%253AStates_of_Operation.html" title="Technical Reference:States of Operation">Technical Reference:States of Operation</a>
</p>
<div class="printfooter">
</div>

</div><br style="clear:both" />

<div id='footer'><table border="0" cellspacing="0"><tr><td width='152' rowspan='1'>&nbsp;</td><td class='bottom' align='left' valign='top'></td></tr></table>
</div>
</div>

<div id='quickbar'>
<table class="image"><caption align="bottom"><h2>BCI2000 Help</h2></caption><tr><td><a href="BCI2000_Help.html"><img src='../../images/bci2000logo_small.png' height=100 width=100 alt='[BCI2000 Help]' /></a></td></tr></table>
<hr class='sep' /><a href="User_Tutorial%253ABCI2000_Tour.html">Getting Started</a><br />
<a href="User_Reference%253AContents.html">User Manual</a><br />
<ul><li><a href="User_Reference%253AOperator_Module.html">Operator Module</a></li>
<li><a href="User_Reference%253AFilters.html">Configuration Guide</a></li>
<li>Applications</li>
<li>Tools</li>
</ul><a href="Technical_Reference%253AContents.html">Technical Reference</a><br />
<a href="Programming_Reference%253AContents.html">Programming Manual</a><br />
<a href="Contributions%253AContents.html">Contributions</a><br />
<hr class='sep' />
<a href="BCI2000_Glossary.html">BCI2000 Glossary</a><br />
</div>

</body></html>